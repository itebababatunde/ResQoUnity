================================================================================
SIMULATION LOG - 2025-11-16 20:01:20
Log file: /home/kishi/ResQoUnity/logs/simulation/drone_sim_20251116_200120.log
================================================================================

[INFO] Creating environment: Isaac-Velocity-Rough-Unitree-Go2-v0
[INFO] Robot: drone, Amount: 1, Terrain: flat
[INFO]: Base environment:
	Environment device    : cuda:0
	Physics step-size     : 0.005
	Rendering step-size   : 0.005
	Environment step-size : 0.02
	Physics GPU pipeline  : True
	Physics GPU simulation: True
[INFO]: Time taken for scene creation : 1.772467 seconds
[INFO]: Scene manager:  <class InteractiveScene>
	Number of environments: 1
	Environment spacing   : 2.5
	Source prim name      : /World/envs/env_0
	Global prim paths     : ['/World/ground']
	Replicate physics     : True
[INFO]: Starting the simulation. This may take a few seconds. Please wait...
[INFO]: Time taken for simulation start : 0.917164 seconds
[INFO] Command Manager:  <CommandManager> contains 1 active terms.
+------------------------------------------------+
|              Active Command Terms              |
+-------+---------------+------------------------+
| Index | Name          |          Type          |
+-------+---------------+------------------------+
|   0   | base_velocity | UniformVelocityCommand |
+-------+---------------+------------------------+

[INFO] Action Manager:  <ActionManager> contains 1 active terms.
+----------------------------------+
|  Active Action Terms (shape: 4)  |
+--------+------------+------------+
| Index  | Name       |  Dimension |
+--------+------------+------------+
|   0    | joint_pos  |          4 |
+--------+------------+------------+

[INFO] Observation Manager: <ObservationManager> contains 1 groups.
+---------------------------------------------------------+
| Active Observation Terms in Group: 'policy' (shape: (24,)) |
+-----------+---------------------------------+-----------+
|   Index   | Name                            |   Shape   |
+-----------+---------------------------------+-----------+
|     0     | base_lin_vel                    |    (3,)   |
|     1     | base_ang_vel                    |    (3,)   |
|     2     | projected_gravity               |    (3,)   |
|     3     | velocity_commands               |    (3,)   |
|     4     | joint_pos                       |    (4,)   |
|     5     | joint_vel                       |    (4,)   |
|     6     | actions                         |    (4,)   |
+-----------+---------------------------------+-----------+

[INFO] Event Manager:  <EventManager> contains 1 active terms.
+--------------------------------------+
| Active Event Terms in Mode: 'startup' |
+----------+---------------------------+
|  Index   | Name                      |
+----------+---------------------------+
|    0     | physics_material          |
+----------+---------------------------+

[INFO] Termination Manager:  <TerminationManager> contains 1 active terms.
+-----------------------------+
|   Active Termination Terms  |
+-------+----------+----------+
| Index | Name     | Time Out |
+-------+----------+----------+
|   0   | time_out |   True   |
+-------+----------+----------+

[INFO] Reward Manager:  <RewardManager> contains 9 active terms.
+-----------------------------------------+
|           Active Reward Terms           |
+-------+----------------------+----------+
| Index | Name                 |   Weight |
+-------+----------------------+----------+
|   0   | track_lin_vel_xy_exp |      1.0 |
|   1   | track_ang_vel_z_exp  |      0.5 |
|   2   | lin_vel_z_l2         |     -1.0 |
|   3   | ang_vel_xy_l2        |     -0.1 |
|   4   | dof_torques_l2       |   -1e-06 |
|   5   | dof_acc_l2           | -2.5e-07 |
|   6   | action_rate_l2       |    -0.01 |
|   7   | flat_orientation_l2  |     -1.0 |
|   8   | dof_pos_limits       |      0.0 |
+-------+----------------------+----------+

[INFO] Curriculum Manager:  <CurriculumManager> contains 0 active terms.
+----------------------+
| Active Curriculum Terms |
+-----------+----------+
|   Index   | Name     |
+-----------+----------+
+-----------+----------+

Creating window for environment.
[INFO]: Completed setting up the environment...
[INFO] Environment created successfully!
[INFO] Environment wrapped for RSL-RL
[INFO] Loading experiment from directory: /home/kishi/ResQoUnity/logs/rsl_rl/quadcopter_rough
[WARN] No checkpoint found at /home/kishi/ResQoUnity/logs/rsl_rl/quadcopter_rough
[INFO] Running in MANUAL CONTROL mode (keyboard only, no RL policy)
[INFO] Initializing drone controllers...
[Drone 0] Mode: DISARMED → IDLE
[INFO] Drone 0 controller initialized and ARMED in IDLE (will switch to LOITER after spawn)
[INFO] Resetting environment and getting initial observations...
[INFO] Environment reset complete, starting simulation loop...
Error loading custom environment. You should download custom envs folder from: https://drive.google.com/drive/folders/1vVGuO1KIX1K6mD6mBHDZGm9nk2vaRyj3?usp=sharing
[INFO] Setting up viewport camera...
[INFO] Camera positioned to view robot
[INFO] Robot(s) should now be visible in the viewport!
[INFO] Use these controls to navigate:
  - Press 'F' to focus on robot
  - Mouse wheel: Zoom in/out
  - Middle mouse: Pan camera
  - Alt+Left mouse: Orbit view
  - WASD keys: Move robot (forward/back/left/right)
  - Q/E keys: Rotate left/right
  - T/G keys: Altitude up/down (for drone)
[WARNING] Could not measure mass from USD: 'Articulation' object has no attribute 'get_masses'
[INFO] Environment drone mass: 1.5kg
[CALIBRATION] Data collection initialized
[CALIBRATION] Phase 1: Free-fall test (3 seconds)
[INFO] Starting odometry publishing for 1 environment drone(s)
[DBG ODOM] Published /robot0/odom: pos=(0.003, 0.009, 0.075)
[CALIBRATION] Test 1 complete. Collected 64 samples
[CALIBRATION] Phase 2: Hover force sweep (50 seconds)
[DBG] Frame 1 - Mode: IDLE, Pos: (0.003, 0.009, 0.075)
[FORCE] env0 pos:(0.00,0.01,0.07) des_vel:(0.00,0.00,0.00) new_vel:(-0.00,-0.00,0.16)
[DBG ODOM] Published /robot0/odom: pos=(0.003, 0.010, 0.075)
[CALIBRATION] Force=10.0N, Alt=0.075m, Vz=0.003m/s
[DBG ODOM] Published /robot0/odom: pos=(0.003, 0.011, 0.075)
[CALIBRATION] Force=10.0N, Alt=0.075m, Vz=-0.000m/s
[CALIBRATION] Force=11.1N, Alt=0.075m, Vz=-0.001m/s
[DBG ODOM] Published /robot0/odom: pos=(0.004, 0.014, 0.075)
[CALIBRATION] Force=11.1N, Alt=0.075m, Vz=-0.020m/s
[DBG ODOM] Published /robot0/odom: pos=(0.005, 0.016, 0.075)
[DBG ODOM] Published /robot0/odom: pos=(0.006, 0.018, 0.075)
[CALIBRATION] Force=12.2N, Alt=0.075m, Vz=0.008m/s
[DBG ODOM] Published /robot0/odom: pos=(0.008, 0.014, 0.075)
[CALIBRATION] Force=12.2N, Alt=0.075m, Vz=-0.060m/s
[DBG ODOM] Published /robot0/odom: pos=(0.010, 0.006, 0.075)
[CALIBRATION] Force=13.3N, Alt=0.075m, Vz=-0.046m/s
[DBG ODOM] Published /robot0/odom: pos=(0.010, 0.005, 0.075)
[DBG ODOM] Published /robot0/odom: pos=(0.010, 0.008, 0.075)
[CALIBRATION] Force=13.3N, Alt=0.075m, Vz=-0.017m/s
[CALIBRATION] Force=14.4N, Alt=0.075m, Vz=-0.041m/s
[DBG ODOM] Published /robot0/odom: pos=(0.008, 0.010, 0.076)
[CALIBRATION] Force=14.4N, Alt=0.075m, Vz=-0.052m/s
[CALIBRATION] Force=14.4N, Alt=0.076m, Vz=-0.080m/s
[DBG ODOM] Published /robot0/odom: pos=(0.006, 0.010, 0.075)
[CALIBRATION] Force=14.4N, Alt=0.075m, Vz=0.005m/s
[DBG ODOM] Published /robot0/odom: pos=(0.004, 0.012, 0.075)
[CALIBRATION] Force=15.6N, Alt=0.075m, Vz=0.005m/s
[DBG ODOM] Published /robot0/odom: pos=(0.002, 0.015, 0.075)
[CALIBRATION] Force=15.6N, Alt=0.076m, Vz=-0.064m/s
[DBG ODOM] Published /robot0/odom: pos=(-0.000, 0.016, 0.075)
[DBG ODOM] Published /robot0/odom: pos=(-0.002, 0.015, 0.075)
[CALIBRATION] Force=16.7N, Alt=0.075m, Vz=-0.071m/s
[DBG ODOM] Published /robot0/odom: pos=(-0.001, 0.016, 0.077)
[DBG ODOM] Published /robot0/odom: pos=(-0.004, 0.016, 0.076)
[CALIBRATION] Force=17.8N, Alt=0.077m, Vz=-0.058m/s
[DBG ODOM] Published /robot0/odom: pos=(-0.003, 0.022, 0.080)
[CALIBRATION] Force=17.8N, Alt=0.080m, Vz=-0.035m/s
[DBG ODOM] Published /robot0/odom: pos=(-0.005, 0.028, 0.081)
[CALIBRATION] Force=18.9N, Alt=0.082m, Vz=-0.084m/s
[CALIBRATION] Force=18.9N, Alt=0.116m, Vz=0.028m/s
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.029, 0.118)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 0.270)
[CALIBRATION] Force=18.9N, Alt=0.338m, Vz=0.063m/s
[CALIBRATION] Force=20.0N, Alt=0.420m, Vz=0.063m/s
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 0.437)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 0.816)
[CALIBRATION] Force=20.0N, Alt=0.977m, Vz=0.294m/s
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.258)
[CALIBRATION] Test 2 complete. Tested 10 force levels
[CALIBRATION] Phase 3: PID tuning (60 seconds)
[DBG] Frame 2 - Mode: IDLE, Pos: (-0.007, 0.028, 1.420)
[Drone 0] Mode: IDLE → LOITER
[INFO] Drone 0 switched to LOITER at position (-0.01, 0.03, 1.42)
[CALIBRATION] Kp=5.0, Alt=1.951m (target=2.0m)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.972)
[CALIBRATION] Kp=5.0, Alt=1.983m (target=2.0m)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.983)
[CALIBRATION] Kp=5.0, Alt=1.983m (target=2.0m)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.983)
[CALIBRATION] Kp=5.0, Alt=1.983m (target=2.0m)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.983)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.983)
[CALIBRATION] Kp=10.0, Alt=1.983m (target=2.0m)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.992)
[CALIBRATION] Kp=10.0, Alt=1.992m (target=2.0m)
[CALIBRATION] Kp=10.0, Alt=1.992m (target=2.0m)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.992)
[CALIBRATION] Kp=10.0, Alt=1.992m (target=2.0m)
[CALIBRATION] Kp=10.0, Alt=1.992m (target=2.0m)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.992)
[CALIBRATION] Kp=10.0, Alt=1.992m (target=2.0m)
[CALIBRATION] Kp=10.0, Alt=1.992m (target=2.0m)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.992)
[CALIBRATION] Kp=10.0, Alt=1.992m (target=2.0m)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.992)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.994)
[CALIBRATION] Kp=15.0, Alt=1.994m (target=2.0m)
[CALIBRATION] Kp=15.0, Alt=1.994m (target=2.0m)
[CALIBRATION] Kp=15.0, Alt=1.994m (target=2.0m)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.994)
[CALIBRATION] Kp=15.0, Alt=1.994m (target=2.0m)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.994)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.994)
[CALIBRATION] Kp=20.0, Alt=1.994m (target=2.0m)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.996)
[CALIBRATION] Kp=20.0, Alt=1.996m (target=2.0m)
[CALIBRATION] Kp=20.0, Alt=1.996m (target=2.0m)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.996)
[CALIBRATION] Kp=20.0, Alt=1.996m (target=2.0m)
[DBG ODOM] Published /robot0/odom: pos=(-0.007, 0.028, 1.996)
